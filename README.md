\# SQL-Study-Repository



SQL 기본 문법부터 고급 기능까지 다양한 쿼리 예제를 포함하고 있습니다. 각 파일은 특정 주제에 대한 SQL 문법과 연습 문제로 구성되어 있습니다.



-----



\## 목차



1\.  \*\*기본 SELECT 구문\*\*

2\.  \*\*WHERE 절과 조건 연산자\*\*

3\.  \*\*SQL 함수\*\*

&nbsp;     \* 문자열 함수

&nbsp;     \* 숫자 함수

&nbsp;     \* 날짜 함수

&nbsp;     \* 변환 함수

&nbsp;     \* NULL 처리 및 조건부 함수

4\.  \*\*그룹 함수와 GROUP BY\*\*

5\.  \*\*집합 연산자\*\*

6\.  \*\*JOIN\*\*

7\.  \*\*서브쿼리 (Subquery)\*\*

8\.  \*\*DML (데이터 조작어)\*\*

9\.  \*\*트랜잭션 (Transaction)\*\*

10\. \*\*DDL (데이터 정의어)\*\*

11\. \*\*제약 조건 (Constraints)\*\*

12\. \*\*뷰 (View)\*\*

13\. \*\*시퀀스 (Sequence) 와 인덱스 (Index)\*\*

14\. \*\*사용자 계정 및 권한\*\*



-----



\### \*\*1. 기본 SELECT 구문\*\*



테이블의 데이터를 조회하는 가장 기본적인 명령어입니다.



&nbsp; \* \*\*모든 컬럼 조회\*\*: `SELECT \* FROM 테이블명;`

&nbsp; \* \*\*특정 컬럼 조회\*\*: `SELECT 컬럼1, 컬럼2 FROM 테이블명;`

&nbsp; \* \*\*별칭(Alias)\*\*: 컬럼이나 테이블에 임시 이름을 부여합니다. `AS` 키워드는 생략 가능합니다.

&nbsp; \* \*\*산술 연산\*\*: 숫자 타입의 컬럼에 `+`, `-`, `\*`, `/` 연산을 적용할 수 있습니다.

&nbsp; \* \*\*문자열 연결\*\*: `||` 연산자를 사용하여 여러 문자열이나 컬럼을 합칠 수 있습니다.

&nbsp; \* \*\*중복 제거\*\*: `DISTINCT` 키워드를 사용하여 조회 결과에서 중복된 행을 제거합니다.



\*\*예제:\*\*



```sql

-- 이름과 12개월치 급여를 '연봉'이라는 별칭으로 조회

SELECT FIRST\_NAME, SALARY \* 12 AS "연봉" FROM EMPLOYEES;

```



-----



\### \*\*2. WHERE 절과 조건 연산자\*\*



`WHERE` 절을 사용하여 `SELECT` 문이 반환할 행을 특정 조건으로 필터링합니다. `ORDER BY` 절은 결과 데이터를 정렬하며, 항상 `SELECT` 문의 가장 마지막에 위치합니다.



&nbsp; \* \*\*비교 연산자\*\*: `=`, `>`, `<`, `>=`, `<=`, `<>` (같지 않음)

&nbsp; \* \*\*범위\*\*: `BETWEEN 값1 AND 값2`

&nbsp; \* \*\*리스트\*\*: `IN (값1, 값2, ...)`

&nbsp; \* \*\*패턴 매칭\*\*: `LIKE` ( `\_` : 한 글자, `%` : 여러 글자)

&nbsp; \* \*\*NULL\*\*: `IS NULL`, `IS NOT NULL`

&nbsp; \* \*\*논리 연산자\*\*: `AND`, `OR`, `NOT`

&nbsp; \* \*\*정렬\*\*: `ORDER BY 컬럼명 ASC` (오름차순), `DESC` (내림차순)



\*\*예제:\*\*



```sql

-- 직무가 'IT\_PROG'이거나 'SA\_MAN'인 사원의 이름과 직무 ID를 조회

SELECT FIRST\_NAME, JOB\_ID

FROM EMPLOYEES

WHERE JOB\_ID IN ('IT\_PROG', 'SA\_MAN');

```



-----



\### \*\*3. SQL 함수\*\*



데이터를 처리하고 계산하기 위한 내장 함수들입니다.



\#### \*\*문자열 함수\*\*



&nbsp; \* `LOWER()`, `UPPER()`, `INITCAP()`: 대소문자를 변환합니다.

&nbsp; \* `LENGTH()`: 문자열의 길이를 반환합니다.

&nbsp; \* `SUBSTR(문자열, 시작위치, 길이)`: 문자열의 일부를 잘라냅니다.

&nbsp; \* `INSTR(문자열, 찾을문자)`: 특정 문자의 위치를 찾습니다.

&nbsp; \* `LPAD(문자열, 총길이, 채울문자)`, `RPAD()`: 왼쪽 또는 오른쪽에 문자를 채웁니다.

&nbsp; \* `TRIM()`, `LTRIM()`, `RTRIM()`: 공백을 제거합니다.

&nbsp; \* `REPLACE(문자열, 이전문자, 새문자)`: 문자열을 다른 문자로 치환합니다.



\#### \*\*숫자 함수\*\*



&nbsp; \* `ROUND(숫자, 자릿수)`: 반올림합니다.

&nbsp; \* `TRUNC(숫자, 자릿수)`: 버립니다.

&nbsp; \* `MOD(숫자1, 숫자2)`: 나눈 나머지를 구합니다.

&nbsp; \* `CEIL()`, `FLOOR()`: 올림, 내림 처리합니다.



\#### \*\*날짜 함수\*\*



&nbsp; \* `SYSDATE`, `SYSTIMESTAMP`: 현재 시스템의 날짜와 시간을 반환합니다.

&nbsp; \* 날짜 간의 뺄셈은 일(day) 수를 반환합니다.



\#### \*\*변환 함수\*\*



&nbsp; \* `TO\_CHAR(날짜/숫자, '형식')`: 날짜나 숫자를 지정된 형식의 문자로 변환합니다.

&nbsp; \* `TO\_DATE(문자, '형식')`: 문자를 날짜 타입으로 변환합니다.

&nbsp; \* `TO\_NUMBER(문자, '형식')`: 문자를 숫자 타입으로 변환합니다.



\#### \*\*NULL 처리 및 조건부 함수\*\*



&nbsp; \* `NVL(컬럼, 값)`: 컬럼이 NULL일 경우 지정된 값으로 대체합니다.

&nbsp; \* `NVL2(컬럼, NOT\_NULL값, IS\_NULL값)`: NULL 여부에 따라 다른 값을 반환합니다.

&nbsp; \* `DECODE(컬럼, 조건1, 결과1, 조건2, 결과2, ..., 기본값)`: `IF-ELSE`와 유사한 기능을 수행합니다.

&nbsp; \* `CASE WHEN 조건 THEN 결과 ELSE 결과 END`: 복잡한 조건부 로직을 처리합니다.



-----



\### \*\*4. 그룹 함수와 GROUP BY\*\*



여러 행의 데이터를 그룹화하여 그룹별로 집계 결과를 반환합니다.



&nbsp; \* \*\*그룹 함수\*\*: `COUNT()`, `SUM()`, `AVG()`, `MAX()`, `MIN()`

&nbsp; \* `GROUP BY`: 특정 컬럼을 기준으로 데이터를 그룹화합니다.

&nbsp; \* `HAVING`: `GROUP BY`로 생성된 그룹 결과에 대한 조건을 지정합니다. `WHERE` 절은 그룹화 전에 데이터를 필터링하는 반면, `HAVING` 절은 그룹화 후에 결과를 필터링합니다.

&nbsp; \* `ROLLUP`, `CUBE`: 그룹별 소계와 총계를 생성합니다.



\*\*예제:\*\*



```sql

-- 각 직무별 사원 수와 평균 급여를 조회 (단, 평균 급여가 6000 이상인 직무만)

SELECT JOB\_ID, COUNT(\*), AVG(SALARY)

FROM EMPLOYEES

GROUP BY JOB\_ID

HAVING AVG(SALARY) >= 6000;

```



-----



\### \*\*5. 집합 연산자\*\*



두 개 이상의 `SELECT` 문의 결과를 하나의 결과 집합으로 결합합니다.



&nbsp; \* `UNION`: 합집합 (중복 행 제거)

&nbsp; \* `UNION ALL`: 합집합 (중복 행 포함)

&nbsp; \* `INTERSECT`: 교집합

&nbsp; \* `MINUS`: 차집합



-----



\### \*\*6. JOIN\*\*



두 개 이상의 테이블을 공통된 키를 기준으로 연결하여 데이터를 조회합니다.



&nbsp; \* \*\*INNER JOIN\*\*: 양쪽 테이블에 모두 일치하는 행만 반환합니다.

&nbsp; \* \*\*OUTER JOIN\*\*:

&nbsp;     \* `LEFT JOIN`: 왼쪽 테이블의 모든 행을 포함하고, 오른쪽 테이블은 일치하는 행만 포함합니다.

&nbsp;     \* `RIGHT JOIN`: 오른쪽 테이블의 모든 행을 포함합니다.

&nbsp;     \* `FULL JOIN`: 양쪽 테이블의 모든 행을 포함합니다.

&nbsp; \* \*\*CROSS JOIN\*\*: 두 테이블의 모든 가능한 행의 조합(카티시안 곱)을 반환합니다.

&nbsp; \* \*\*SELF JOIN\*\*: 같은 테이블을 두 번 사용하여 자체적으로 조인합니다 (예: 사원과 관리자).



\*\*예제:\*\*



```sql

-- 사원 테이블과 부서 테이블을 조인하여 사원 이름과 부서명을 출력

SELECT E.FIRST\_NAME, D.DEPARTMENT\_NAME

FROM EMPLOYEES E

LEFT JOIN DEPARTMENTS D ON E.DEPARTMENT\_ID = D.DEPARTMENT\_ID;

```



-----



\### \*\*7. 서브쿼리 (Subquery)\*\*



다른 SQL 문 내부에 포함된 `SELECT` 문입니다.



&nbsp; \* \*\*단일 행 서브쿼리\*\*: 결과가 한 행인 서브쿼리로, `=`, `>`, `<` 연산자와 함께 사용됩니다.

&nbsp; \* \*\*다중 행 서브쿼리\*\*: 결과가 여러 행인 서브쿼리로, `IN`, `ANY`, `ALL` 연산자와 함께 사용됩니다.

&nbsp; \* \*\*스칼라 서브쿼리\*\*: `SELECT` 절에서 사용되며, 단일 값(1행 1열)을 반환해야 합니다.

&nbsp; \* \*\*인라인 뷰\*\*: `FROM` 절에서 사용되며, 서브쿼리의 결과를 하나의 가상 테이블처럼 사용합니다. `ROWNUM`을 이용한 페이징 처리에 유용합니다.



\*\*예제:\*\*



```sql

-- 전체 사원의 평균 급여보다 많이 받는 사원 조회

SELECT \* FROM EMPLOYEES

WHERE SALARY > (SELECT AVG(SALARY) FROM EMPLOYEES);

```



-----



\### \*\*8. DML (데이터 조작어)\*\*



테이블의 데이터를 조작(삽입, 수정, 삭제)하는 명령어입니다.



&nbsp; \* `INSERT`: 새로운 행을 추가합니다.

&nbsp; \* `UPDATE`: 기존 행의 데이터를 수정합니다.

&nbsp; \* `DELETE`: 행을 삭제합니다.

&nbsp; \* `MERGE`: 조건에 따라 데이터가 있으면 `UPDATE`, 없으면 `INSERT`를 수행합니다.



-----



\### \*\*9. 트랜잭션 (Transaction)\*\*



하나의 논리적인 작업 단위를 의미합니다. DML 문은 트랜잭션 제어가 필요합니다.



&nbsp; \* `COMMIT`: 변경사항을 데이터베이스에 영구 저장합니다.

&nbsp; \* `ROLLBACK`: 마지막 `COMMIT` 이후의 변경사항을 모두 취소합니다.

&nbsp; \* `SAVEPOINT`: 트랜잭션 내에 저장 지점을 만들어 특정 부분만 `ROLLBACK` 할 수 있게 합니다.



-----



\### \*\*10. DDL (데이터 정의어)\*\*



데이터베이스 객체(테이블, 뷰 등)를 생성, 수정, 삭제하는 명령어입니다. 실행 즉시 자동 `COMMIT` 됩니다.



&nbsp; \* `CREATE TABLE`: 테이블을 생성합니다.

&nbsp; \* `ALTER TABLE`: 테이블 구조를 변경합니다 (`ADD`, `RENAME`, `MODIFY`, `DROP COLUMN`).

&nbsp; \* `DROP TABLE`: 테이블을 삭제합니다.

&nbsp; \* `TRUNCATE TABLE`: 테이블의 모든 행을 빠르게 삭제합니다 (`ROLLBACK` 불가).



-----



\### \*\*11. 제약 조건 (Constraints)\*\*



데이터의 무결성을 보장하기 위해 컬럼에 부여하는 규칙입니다.



&nbsp; \* `NOT NULL`: NULL 값을 허용하지 않습니다.

&nbsp; \* `UNIQUE`: 중복된 값을 허용하지 않지만, NULL은 허용합니다.

&nbsp; \* `PRIMARY KEY (PK)`: `NOT NULL`과 `UNIQUE` 특징을 모두 가지며, 행을 고유하게 식별합니다.

&nbsp; \* `FOREIGN KEY (FK)`: 다른 테이블의 `PK`를 참조하여 테이블 간 관계를 설정합니다.

&nbsp; \* `CHECK`: 저장될 수 있는 값의 조건을 지정합니다.



-----



\### \*\*12. 뷰 (View)\*\*



하나 이상의 테이블을 기반으로 만들어진 가상의 논리적 테이블입니다. 복잡한 쿼리를 단순화하고 데이터 보안을 강화하는 데 사용됩니다.



&nbsp; \* \*\*단순 뷰\*\*: 하나의 테이블로 생성되며, DML 작업에 제약이 적습니다.

&nbsp; \* \*\*복합 뷰\*\*: 두 개 이상의 테이블을 조인하여 생성되며, DML 작업이 대부분 불가능합니다.

&nbsp; \* `CREATE OR REPLACE VIEW`: 뷰를 생성하거나 이미 존재하면 수정합니다.

&nbsp; \* `WITH READ ONLY`: 뷰를 통한 DML 작업을 금지하고 `SELECT`만 허용합니다.



-----



\### \*\*13. 시퀀스 (Sequence) 와 인덱스 (Index)\*\*



\#### \*\*시퀀스 (Sequence)\*\*



연속적인 숫자를 자동으로 생성하는 데이터베이스 객체로, 주로 `PRIMARY KEY` 값에 사용됩니다.



&nbsp; \* `시퀀스명.NEXTVAL`: 다음 시퀀스 값을 가져옵니다.

&nbsp; \* `시퀀스명.CURRVAL`: 현재 시퀀스 값을 확인합니다.



\#### \*\*인덱스 (Index)\*\*



테이블의 \*\*검색 속도를 향상\*\*시키기 위한 자료구조입니다. `PK`와 `UNIQUE` 제약조건은 자동으로 인덱스를 생성합니다. 조회가 빈번한 컬럼에 생성하면 효율적이지만, DML 작업 시 성능 저하를 유발할 수 있습니다.



-----



\### \*\*14. 사용자 계정 및 권한\*\*



&nbsp; \* `CREATE USER`: 새로운 사용자 계정을 생성합니다.

&nbsp; \* `GRANT`: 사용자에게 특정 권한(접속, 객체 생성 등)을 부여합니다.

&nbsp; \* `REVOKE`: 부여된 권한을 회수합니다.

&nbsp; \* `ROLE`: 여러 권한을 묶어놓은 그룹으로, 권한 관리를 용이하게 합니다 (예: `CONNECT`, `RESOURCE`).

